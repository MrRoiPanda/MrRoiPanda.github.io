document.addEventListener('DOMContentLoaded',function(){const galleryItems=document.querySelectorAll('.gallery-item');const lightbox=document.getElementById('lightbox');const lightboxImg=document.getElementById('lightbox-img');const lightboxClose=document.querySelector('.lightbox-close');const lightboxPrev=document.querySelector('.lightbox-prev');const lightboxNext=document.querySelector('.lightbox-next');let currentImageIndex=0;let images=[];function initImages(){images=Array.from(galleryItems).map(item=>item.querySelector('img').src)}
function openLightbox(index){currentImageIndex=index;lightboxImg.src=images[currentImageIndex];lightbox.classList.add('active');document.body.style.overflow='hidden'}
function closeLightbox(){lightbox.classList.remove('active');document.body.style.overflow='auto'}
function showPrevious(){currentImageIndex=(currentImageIndex-1+images.length)%images.length;lightboxImg.src=images[currentImageIndex]}
function showNext(){currentImageIndex=(currentImageIndex+1)%images.length;lightboxImg.src=images[currentImageIndex]}
galleryItems.forEach((item,index)=>{item.addEventListener('click',function(){openLightbox(index)})});if(lightboxClose){lightboxClose.addEventListener('click',closeLightbox)}
if(lightboxPrev){lightboxPrev.addEventListener('click',showPrevious)}
if(lightboxNext){lightboxNext.addEventListener('click',showNext)}
if(lightbox){lightbox.addEventListener('click',function(e){if(e.target===lightbox){closeLightbox()}})}
document.addEventListener('keydown',function(e){if(!lightbox.classList.contains('active'))return;if(e.key==='Escape'){closeLightbox()}else if(e.key==='ArrowLeft'){showPrevious()}else if(e.key==='ArrowRight'){showNext()}});initImages()})